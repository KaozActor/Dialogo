const entrada = document.getElementById('entrada');
const enviar = document.getElementById('enviar');
const mensagem = document.getElementById('mensagem');
const historico = document.getElementById('historico');

const palavras = {
    'oi': [
        'Olá!',
        'Tudo bem?',
        'Como posso te ajudar?'
    ],
    'ola': [
        'Oi!',
        'Estava esperando por você!',
        'Vamos conversar!'
    ],
    'como você está?': [
        'Estou ótimo, obrigado!',
        'E você, como está?'
    ],
    'tchau': [
        'Até logo!',
        'Volte quando quiser!',
        'Me avise quando voltar!'
    ],
};

enviar.addEventListener('click', () => {
    const palavra = entrada.value.trim().toLowerCase();

    if (palavras[palavra]) {
        mostrarMensagens(palavras[palavra]);
        entrada.value = '';
    } else {
        mensagem.textContent = 'Palavra chave desconhecida!';
        entrada.value = '';
    }
});

function mostrarMensagens(textos) {
    mensagem.textContent = ''; // Limpa a mensagem anterior
    let index = 0;

    function escrever() {
        if (index < textos.length) {
            mostrarMensagemComEfeito(textos[index], () => {
                index++;
                setTimeout(escrever, 500); // Tempo entre cada mensagem
            });
        } else {
            atualizarHistorico(textos.join(' '));
        }
    }

    escrever();
}

function mostrarMensagemComEfeito(texto, callback) {
    mensagem.textContent = ''; // Limpa a mensagem anterior
    let i = 0;

    function escrever() {
        if (i < texto.length) {
            mensagem.textContent += texto.charAt(i);
            i++;
            setTimeout(escrever, 50); // Tempo entre cada letra
        } else {
            if (callback) callback();
        }
    }

    escrever();
}

function atualizarHistorico(texto) {
    historico.innerHTML += `<p>${texto}</p>`;
}
